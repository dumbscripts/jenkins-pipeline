#!groovy

 

def jsonF = '''

{

  "z_pipeline": {

    "platform": "windows",

    "agent": "any",

    "environment" : {

        "http_proxy" : "host:port",

        "https_proxy" : "host:port",

        "no_proxy" : "host"

    },

    "properties": {

      "schedule": "H 1 * * *"

    },

    "stages": {

      "checkout": {

        "scm": "git",

        "repo": "https://gitUlr",

        "branch": "master",

        "credsId": "mycreds"

      },

      "build": {

        "script": [

          "mvn clean install -DskipTests"

        ]

      },

      "artifacts": {

        "server": "url",

        "credsId": "mycreds",

        "filePattern": "*.jar",

        "targetPath": "test_repo"

      },

      "tics": {

        "script": [

          "echo 'TICS'"

        ]

      },

      "test": {

        "script": [

          "echo 'TEST'"

        ]

      },

      "deploy": {

        "script": [

          "echo 'DEPLOY'"

        ]

      },

      "fortify": {

        "script": [

          "echo 'FORTIFY'"

        ]

      },

      "blackduck": {

        "script": [

          "echo 'BLACKDUCK'"

        ]

      }

    },

    "active": true

  }

}

'''

 

 

library('pipeline-lib')

CommonPipeline.addStagesAndExecutePipeline(jsonF)